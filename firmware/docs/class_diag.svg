<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="390pt" height="702pt"
 viewBox="0.00 0.00 390.00 702.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 698)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-698 386,-698 386,4 -4,4"/>
<!-- A0 -->
<g id="node1" class="node">
<title>A0</title>
<polygon fill="none" stroke="#000000" points="56,-370 56,-402 144,-402 144,-370 56,-370"/>
<text text-anchor="start" x="65.5575" y="-383" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">MotorController</text>
<polygon fill="none" stroke="#000000" points="56,-290 56,-370 144,-370 144,-290 56,-290"/>
<text text-anchor="start" x="68.058" y="-351" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">bool initialize()</text>
<text text-anchor="start" x="80.8345" y="-327" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">failsafe()</text>
<text text-anchor="start" x="90.552" y="-315" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">bool</text>
<text text-anchor="start" x="69.1645" y="-303" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">safetyCheck()</text>
</g>
<!-- A7 -->
<g id="node8" class="node">
<title>A7</title>
<polygon fill="#ffffff" stroke="#000000" points="155.4639,-272 38.5361,-272 38.5361,-180 161.4639,-180 161.4639,-266 155.4639,-272"/>
<polyline fill="none" stroke="#000000" points="155.4639,-272 155.4639,-266 "/>
<polyline fill="none" stroke="#000000" points="161.4639,-266 155.4639,-266 "/>
<text text-anchor="middle" x="100" y="-259" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">Implements the basic</text>
<text text-anchor="middle" x="100" y="-247" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">handling of a single</text>
<text text-anchor="middle" x="100" y="-235" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">motor. It also runs</text>
<text text-anchor="middle" x="100" y="-223" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">the controllers on</text>
<text text-anchor="middle" x="100" y="-211" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">velocity and</text>
<text text-anchor="middle" x="100" y="-199" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">(optionally)</text>
<text text-anchor="middle" x="100" y="-187" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">current</text>
</g>
<!-- A0&#45;&gt;A7 -->
<g id="edge6" class="edge">
<title>A0&#45;&gt;A7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M100,-289.9423C100,-284.0969 100,-278.2516 100,-272.4063"/>
</g>
<!-- A1 -->
<g id="node2" class="node">
<title>A1</title>
<polygon fill="none" stroke="#000000" points="261,-662 261,-694 372,-694 372,-662 261,-662"/>
<text text-anchor="start" x="271.2185" y="-675" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">MotorCurrentSensor</text>
<polygon fill="none" stroke="#000000" points="261,-606 261,-662 372,-662 372,-606 261,-606"/>
<text text-anchor="start" x="295.3955" y="-643" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">initialize()</text>
<text text-anchor="start" x="303.168" y="-631" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">read()</text>
<text text-anchor="start" x="290.94" y="-619" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">supported()</text>
<polygon fill="none" stroke="#000000" points="261,-574 261,-606 372,-606 372,-574 261,-574"/>
<text text-anchor="start" x="270.9395" y="-587" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">getCurrentReading()</text>
</g>
<!-- A1&#45;&gt;A0 -->
<g id="edge2" class="edge">
<title>A1&#45;&gt;A0</title>
<path fill="none" stroke="#000000" d="M252.1508,-567.6241C251.4257,-566.7477 250.7085,-565.8728 250,-565 207.1601,-512.2247 163.8904,-447.5624 134.9079,-402.231"/>
<polygon fill="#000000" stroke="#000000" points="252.3896,-567.9043 259.3261,-569.8754 260.1745,-577.0364 253.238,-575.0653 252.3896,-567.9043"/>
</g>
<!-- A6 -->
<g id="node7" class="node">
<title>A6</title>
<polygon fill="none" stroke="#000000" points="35,-634 35,-666 166,-666 166,-634 35,-634"/>
<text text-anchor="start" x="44.665" y="-647" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">ADCMotorCurrentSensor</text>
<polygon fill="none" stroke="#000000" points="35,-602 35,-634 166,-634 166,-602 35,-602"/>
<text text-anchor="start" x="54.9395" y="-615" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">getCurrentReading()</text>
</g>
<!-- A1&#45;&gt;A6 -->
<g id="edge4" class="edge">
<title>A1&#45;&gt;A6</title>
<path fill="none" stroke="#000000" d="M250.3252,-634C223.5321,-634 192.6103,-634 165.8039,-634"/>
<polygon fill="none" stroke="#000000" points="250.3747,-637.5001 260.3746,-634 250.3746,-630.5001 250.3747,-637.5001"/>
</g>
<!-- A2 -->
<g id="node3" class="node">
<title>A2</title>
<polygon fill="none" stroke="#000000" points="264,-174 264,-206 369,-206 369,-174 264,-174"/>
<text text-anchor="start" x="274.548" y="-187" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">MotorPowerOutput</text>
<polygon fill="none" stroke="#000000" points="264,-82 264,-174 369,-174 369,-82 264,-82"/>
<text text-anchor="start" x="284.558" y="-155" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">bool initialize()</text>
<text text-anchor="start" x="273.9935" y="-131" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">void setPower(float</text>
<text text-anchor="start" x="302.8875" y="-119" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">value)</text>
<text text-anchor="start" x="305.6625" y="-107" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000"> bool</text>
<text text-anchor="start" x="285.6645" y="-95" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">safetyCheck()</text>
</g>
<!-- A2&#45;&gt;A0 -->
<g id="edge1" class="edge">
<title>A2&#45;&gt;A0</title>
<path fill="none" stroke="#000000" d="M262.1332,-215.5308C243.6871,-237.7654 222.0971,-261.5295 200,-281 183.066,-295.9211 162.4234,-309.9198 144.3002,-321.0765"/>
<polygon fill="#000000" stroke="#000000" points="262.2401,-215.4001 262.9434,-208.2234 269.8385,-206.1122 269.1353,-213.289 262.2401,-215.4001"/>
</g>
<!-- A4 -->
<g id="node5" class="node">
<title>A4</title>
<polygon fill="none" stroke="#000000" points="0,-130 0,-162 200,-162 200,-130 0,-130"/>
<text text-anchor="start" x="9.9965" y="-143" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">ComplementaryTimerMotorPowerOutput</text>
<polygon fill="none" stroke="#000000" points="0,-74 0,-130 200,-130 200,-74 0,-74"/>
<text text-anchor="start" x="86.113" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_timer</text>
<text text-anchor="start" x="79.7135" y="-99" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_channel</text>
<text text-anchor="start" x="70.541" y="-87" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">_outputValue</text>
</g>
<!-- A2&#45;&gt;A4 -->
<g id="edge5" class="edge">
<title>A2&#45;&gt;A4</title>
<path fill="none" stroke="#000000" d="M253.322,-136.4554C236.6839,-134.4527 218.2928,-132.2389 200.1954,-130.0606"/>
<polygon fill="none" stroke="#000000" points="253.09,-139.9527 263.4367,-137.6729 253.9266,-133.0029 253.09,-139.9527"/>
</g>
<!-- A9 -->
<g id="node10" class="node">
<title>A9</title>
<polygon fill="#ffffff" stroke="#000000" points="366.532,-64 259.468,-64 259.468,-8 372.532,-8 372.532,-58 366.532,-64"/>
<polyline fill="none" stroke="#000000" points="366.532,-64 366.532,-58 "/>
<polyline fill="none" stroke="#000000" points="372.532,-58 366.532,-58 "/>
<text text-anchor="middle" x="316" y="-51" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">An abstract device</text>
<text text-anchor="middle" x="316" y="-39" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">that can control the</text>
<text text-anchor="middle" x="316" y="-27" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">power applied to a</text>
<text text-anchor="middle" x="316" y="-15" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">motor</text>
</g>
<!-- A2&#45;&gt;A9 -->
<g id="edge8" class="edge">
<title>A2&#45;&gt;A9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M316,-81.7075C316,-75.8936 316,-70.0796 316,-64.2656"/>
</g>
<!-- A3 -->
<g id="node4" class="node">
<title>A3</title>
<polygon fill="none" stroke="#000000" points="261,-524 261,-556 372,-556 372,-524 261,-524"/>
<text text-anchor="start" x="282.0455" y="-537" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">EncoderSensor</text>
<polygon fill="none" stroke="#000000" points="261,-468 261,-524 372,-524 372,-468 261,-468"/>
<text text-anchor="start" x="295.3955" y="-505" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">initialize()</text>
<text text-anchor="start" x="303.168" y="-493" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">read()</text>
<text text-anchor="start" x="290.94" y="-481" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">supported()</text>
<polygon fill="none" stroke="#000000" points="261,-436 261,-468 372,-468 372,-436 261,-436"/>
<text text-anchor="start" x="270.9395" y="-449" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">getCurrentReading()</text>
</g>
<!-- A3&#45;&gt;A0 -->
<g id="edge3" class="edge">
<title>A3&#45;&gt;A0</title>
<path fill="none" stroke="#000000" d="M250.4049,-450.4479C216.009,-426.5618 174.7914,-397.9385 144.2096,-376.7011"/>
<polygon fill="#000000" stroke="#000000" points="250.5182,-450.5265 257.728,-450.6634 260.3746,-457.3713 253.1648,-457.2344 250.5182,-450.5265"/>
</g>
<!-- A8 -->
<g id="node9" class="node">
<title>A8</title>
<polygon fill="#ffffff" stroke="#000000" points="363.405,-418 262.595,-418 262.595,-382 369.405,-382 369.405,-412 363.405,-418"/>
<polyline fill="none" stroke="#000000" points="363.405,-418 363.405,-412 "/>
<polyline fill="none" stroke="#000000" points="369.405,-412 363.405,-412 "/>
<text text-anchor="middle" x="316" y="-403" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">An abstract rotary</text>
<text text-anchor="middle" x="316" y="-391" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">encoder</text>
</g>
<!-- A3&#45;&gt;A8 -->
<g id="edge7" class="edge">
<title>A3&#45;&gt;A8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M316,-435.9619C316,-430.0996 316,-424.2373 316,-418.375"/>
</g>
<!-- A10 -->
<g id="node11" class="node">
<title>A10</title>
<polygon fill="#ffffff" stroke="#000000" points="155.5558,-56 38.4442,-56 38.4442,0 161.5558,0 161.5558,-50 155.5558,-56"/>
<polyline fill="none" stroke="#000000" points="155.5558,-56 155.5558,-50 "/>
<polyline fill="none" stroke="#000000" points="161.5558,-50 155.5558,-50 "/>
<text text-anchor="middle" x="100" y="-43" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">An implementation</text>
<text text-anchor="middle" x="100" y="-31" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">using a timer in</text>
<text text-anchor="middle" x="100" y="-19" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">complementary PWM</text>
<text text-anchor="middle" x="100" y="-7" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">output mode</text>
</g>
<!-- A4&#45;&gt;A10 -->
<g id="edge9" class="edge">
<title>A4&#45;&gt;A10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M100,-73.5273C100,-67.7266 100,-61.9258 100,-56.125"/>
</g>
<!-- A5 -->
<g id="node6" class="node">
<title>A5</title>
<polygon fill="none" stroke="#000000" points="250,-332 250,-364 382,-364 382,-332 250,-332"/>
<text text-anchor="start" x="307.6665" y="-345" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">PID</text>
<polygon fill="none" stroke="#000000" points="250,-276 250,-332 382,-332 382,-276 250,-276"/>
<text text-anchor="start" x="259.886" y="-313" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">PID(dt,cmax,min,Kp,d,Ki)</text>
<text text-anchor="start" x="261.821" y="-301" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000"> calculate(setpoint,pv,dt)</text>
<text text-anchor="start" x="267.3795" y="-289" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000"> calculate(setpoint,pv)</text>
</g>
<!-- A5&#45;&gt;A0 -->
<g id="edge10" class="edge">
<title>A5&#45;&gt;A0</title>
<path fill="none" stroke="#000000" d="M237.4472,-322.9336C206.0708,-326.2129 171.1041,-330.738 144.2912,-335.0954"/>
<polygon fill="none" stroke="#000000" points="237.7854,-322.8996 243.3542,-318.3184 249.725,-321.6968 244.1561,-326.2781 237.7854,-322.8996"/>
<text text-anchor="middle" x="163.5164" y="-337.6083" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">VelocityController</text>
</g>
<!-- A5&#45;&gt;A0 -->
<g id="edge11" class="edge">
<title>A5&#45;&gt;A0</title>
<path fill="none" stroke="#000000" d="M237.4472,-335.9773C206.0708,-340.2516 171.1041,-344.1444 144.2912,-346.2419"/>
<polygon fill="none" stroke="#000000" points="237.8409,-335.9223 243.2283,-331.1289 249.725,-334.2583 244.3376,-339.0516 237.8409,-335.9223"/>
<text text-anchor="middle" x="163.05" y="-350.1778" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">CurrentController</text>
</g>
</g>
</svg>
